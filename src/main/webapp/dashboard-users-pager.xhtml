<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:p="http://primefaces.org/ui"
     xmlns:o="http://omnifaces.org/ui"
     xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
         
    
    <!-- PAGINATOR -->
    <ui:fragment rendered="#{listPager != null}">
        <div class="row">
                
            <div class="col-xs-12 col-md-3"><!-- number of results -->
                <br />
                <ui:fragment rendered="#{listPager.numResults > 1}">                    
                    Found: <b>#{listPager.numResultsString} results</b>
                </ui:fragment>
                <ui:fragment rendered="#{listPager.numResults == 1}">                    
                    Found: <b>#{listPager.numResultsString} result</b>
                </ui:fragment>

                <ui:fragment rendered="#{listPager.endCardNumber > listPager.startCardNumber}">                    
                    <br />Displaying: <b>#{listPager.startCardNumber} to #{listPager.endCardNumber}</b>
                </ui:fragment>
                <br />
            </div>
        
            <div class="col-xs-12 col-md-9">
                <ui:fragment rendered="#{!listPager.pagerNecessary}">
                    &#160;
                </ui:fragment>

            <ui:fragment rendered="#{listPager.pagerNecessary}">

                <ul class="pagination">
                <!-- previous page controls -->
                <ui:fragment rendered="#{listPager.hasPreviousPageNumber()}">
                   <li><p:commandLink action="#{DashboardUsersPage.runUserSearchWithPage(1)}" process="@this @widgetVar(inputSearchTerm)" update="@form" partialSubmit="true">                       
                           <span aria-hidden="true">&lt;&lt;</span>
                        </p:commandLink>
                   </li>
                   <li>
                       <p:commandLink action="#{DashboardUsersPage.runUserSearchWithPage(listPager.previousPageNumber)}" process="@this @widgetVar(inputSearchTerm)" update="@form" partialSubmit="true">
                            <span aria-hidden="true">&lt; Previous</span>
                        </p:commandLink>
                   </li>
                </ui:fragment>
               
                <ui:fragment rendered="#{!listPager.hasPreviousPageNumber()}">
                   <li class="disabled"><a aria-label="First"><span aria-hidden="true">&lt;&lt;</span></a></li>
                   <li class="disabled"><a aria-label="Previous"><span aria-hidden="true">&lt; Previous</span></a></li>
                </ui:fragment>

                <!-- page numbers -->
                <ui:repeat value="#{listPager.getPageListAsIntegerList()}" var="pg">
                    <ui:fragment rendered="#{pg == listPager.selectedPageNumber}">
                        <li class="active">
                            <p:commandLink action="#{DashboardUsersPage.runUserSearchWithPage(pg)}" process="@this @widgetVar(inputSearchTerm)" update="@form" partialSubmit="true">
                                #{pg}
                            </p:commandLink>
                       </li>
                    </ui:fragment>
                    <ui:fragment rendered="#{pg != listPager.selectedPageNumber}">
                        <li>
                            <p:commandLink action="#{DashboardUsersPage.runUserSearchWithPage(pg)}" process="@this @widgetVar(inputSearchTerm)" update="@form" partialSubmit="true">
                                #{pg}
                            </p:commandLink>
                       </li>
                    </ui:fragment>
                </ui:repeat>
 
                
                <!-- next page | last page -->
                <ui:fragment rendered="#{listPager.hasNextPageNumber()}">
                    <li>
                        <p:commandLink action="#{DashboardUsersPage.runUserSearchWithPage(listPager.nextPageNumber)}" process="@this @widgetVar(inputSearchTerm)" update="@form" partialSubmit="true">
                            <span aria-hidden="true">Next &gt;</span>
                        </p:commandLink>
                    </li>
                    <li>
                        <p:commandLink action="#{DashboardUsersPage.runUserSearchWithPage(listPager.pageCount)}" process="@this @widgetVar(inputSearchTerm)" update="@form" partialSubmit="true">
                            <span aria-hidden="true">&gt;&gt;</span>
                        </p:commandLink>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{!listPager.hasNextPageNumber()}">
                    <li class="disabled"><a href="#" aria-label="Next"><span aria-hidden="true">Next &gt;</span></a></li>
                    <li class="disabled"><a href="#" aria-label="Last"><span aria-hidden="true">&gt;&gt;</span></a></li>
                </ui:fragment>


                </ul>
                <!--page count: #{listPager.pageCount}<br />-->
            </ui:fragment>
            </div>
        </div>
    </ui:fragment>
</ui:composition>