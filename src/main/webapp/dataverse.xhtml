<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://java.sun.com/jsf/html"  
      xmlns:f="http://java.sun.com/jsf/core"  
      xmlns:p="http://primefaces.org/ui">  

    <h:head>  

    </h:head>  
    <h:body> 
        <f:metadata>
            <f:viewParam name="id" value="#{DataversePage.dataverse.id}"/>
            <f:viewAction action="#{DataversePage.init}" />
        </f:metadata>        

        <h:form id="dataversePage">
            
            <p:panelGrid columns="3">
                <p:outputLabel value="Name" />
                <p:inplace  widgetVar="inplaceName" effect="none">
                    <p:inputText  id="name" value="#{DataversePage.dataverse.name}" />
                </p:inplace> 
                <p:message for="name" />

                <p:outputLabel value="Alias" /> 
                <p:inplace  widgetVar="inplaceAlias" effect="none">
                    <p:inputText  id="alias" value="#{DataversePage.dataverse.alias}"/>
                </p:inplace>
                <p:message for="alias" />
                
                <p:outputLabel value="Affiliation" /> 
                <p:inplace  widgetVar="inplaceAffiliation" effect="none">
                    <p:inputText  id="affiliation" value="#{DataversePage.dataverse.affiliation}"/>
                </p:inplace>
                <p:message for="affiliation" />

                <p:outputLabel value="Description" />
                <p:inplace  widgetVar="inplaceDescription" effect="none" >
                    <p:inputTextarea  id="description" value="#{DataversePage.dataverse.description}"/>
                </p:inplace>
                <p:message for="description" />
                
                <p:outputLabel value="Contact Email" />
                <p:inplace  widgetVar="inplaceContactEmail" effect="none" >
                    <p:inputTextarea  id="contactEmail" validatorMessage="Invalid email format" value="#{DataversePage.dataverse.contactEmail}">
                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                    </p:inputTextarea>
                </p:inplace>
                <p:message for="contactEmail" />
            </p:panelGrid>

            <p:commandButton id="editButton" value="Edit"
                onclick="
                    inplaceAffiliation.show();                    
                    inplaceContactEmail.show();
                    inplaceDescription.show();                 
                    inplaceAlias.show();
                    inplaceName.show();
                    document.getElementById('dataversePage:editButton').style.display='none';
                    document.getElementById('dataversePage:saveButton').style.display='';
                "/>              
            <p:commandButton id="saveButton" value="Save Dataverse" action="#{DataversePage.save}" ajax="false"  style="display:none"/>
            <p:button id="cancelButton" value="Cancel" outcome="/dataverses.xhtml" /> 
            
        </h:form>   

    </h:body> 
</html> 