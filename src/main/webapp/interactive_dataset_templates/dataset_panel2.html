{# Note: This Template utilizes JSON from the InteractiveData.java "asJSON()" method. #}

<div class="row">
    <div class="panel panel-default">
                <div data-toggle="collapse" data-target="#visualization_div" class="panel-heading text-info">
                    Visualization
                </div>

        <div id="visualization_div" class="collapse in">

            <div class="panel-body">

                <div class="col-xs-12 hidden-sm hidden-md hidden-lg">
                    <div class="alert alert-info">To see the visualization, you must
                    be on a screen of at least nnn X nnn.  (e.g. widen browser, switch device, etc.</div>

                    (static image)
                    <img src="http://worldmap.harvard.edu/download/wms/15272/png?layers=geonode%3Ainvestment_growth_in_boston_cyq&width=655&bbox=-71.1914644962%2C42.2272481395%2C-70.9861620286%2C42.3994625741&service=WMS&format=image%2Fpng&srs=EPSG%3A4326&request=GetMap&height=550" />
                </div>
                <div class="hidden-xs col-sm-12">
                    {% if interactiveDataset.visualizationURL %}
                     <iframe src="{{ interactiveDataset.visualizationURL }}" style="width:100%;height:600px;border:none;"></iframe>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
<!-- debug: view JSON -->
<div class="row">
    <div class="panel panel-default">
                <div data-toggle="collapse" data-target="#interactiveDatasetJSON" class="panel-heading text-info">
                    JSON from interactiveDataset
                </div>
        <div id="interactiveDatasetJSON" class="collapse">

            <div class="panel-body">

                <div class="col-xs-12">
                    <pre>{{ interactiveDataset|jsonPretty }}</pre>
                </div>       
            </div>
        </div>
    </div>
</div>
<!-- debug: JSON delineated -->
<div class="row">
    <div class="panel panel-default">
        <div data-toggle="collapse" data-target="#interactiveDatasetJSONInfo" class="panel-heading text-info">
            Interactive  Metadata
        </div>
    </div>

    <div id="interactiveDatasetJSONInfo" class="collapse">
        <div class="panel-body metadata-panel-body">
            {% for attr, val in interactiveDataset %}
            <div class="form-group">
                <label for="metadata_publicationDate" class="col-sm-5 control-label">
                    <span data-toggle="tooltip" data-placement="auto right" class="tooltiplabel text-info" data-original-title="">
                       {{ attr }}
                    </span>
                </label>
                 <div class="col-xs-12 col-sm-7">
                    {% if val %}
                        {% if attr in  ['visualizationURL', 'apiEndpointURL'] %}
                            <a href="{{ val }}" target="_blank">{{ val }}</a>
                        {% elif attr == 'contactEmail' %}
                            <a href="mailto:{{ val }}" target="_blank">{{ val }}</a>
                        {% elif attr in  ['dataset', 'remoteAPIEndpoint'] %}
                            <pre>{{ val|jsonPretty }}</pre>                        
                        {% else %}
                            {{ val }}
                        {% endif %}
                    {% else %}
                        (n/a)
                    {% endif %}    
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>